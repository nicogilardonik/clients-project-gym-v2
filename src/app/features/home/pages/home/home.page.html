<ion-header class="header-container">
  <ion-toolbar>
    <ion-title>
      <strong>Fitness</strong><span style="opacity: 0.7">Plus</span>
    </ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon slot="icon-only" name="notifications-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="ion-padding">
    <div class="welcome-container ion-padding">
      <ion-row>
        <ion-col size="8">
          <h2 class="day-display">{{ today | dayTranslate }}</h2>
        </ion-col>
        <ion-col size="4" class="ion-text-end time-display">
          <h2 class="time-display">{{ currentTime | date:'shortTime' }}</h2>
        </ion-col>
      </ion-row>

      <!-- Saludo personalizado -->
      <div class="greeting">
        <h2>¡Hola, Bienvenido!</h2>
      </div>
    </div>

    <!-- Motivación del día -->
    <div
      class="motivation-banner"
      *ngIf="motivationalMessage$ | async as message"
    >
      <p class="ion-text-center">"{{ message }}"</p>
    </div>

    <!-- Sección de rutina actual -->
    <div class="content-card">
      <div class="section-title ion-padding-start ion-padding-top">
        <ion-icon name="barbell-outline" color="primary"></ion-icon>
        <h3>Tu rutina para hoy</h3>
      </div>

      <ng-container *ngIf="(routine$ | async) as routine; else emptyRoutine">
        <app-routine-card
          [routine]="routine"
          (exerciseClicked)="onExerciseClicked($event)"
        ></app-routine-card>
      </ng-container>

      <ng-template #emptyRoutine>
        <div class="empty-state">
          <ion-icon name="fitness-outline" color="medium"></ion-icon>
          <p>No tienes una rutina asignada para hoy</p>
          <ion-button fill="outline" size="small">
            Ver catálogo
            <ion-icon slot="end" name="arrow-forward"></ion-icon>
          </ion-button>
        </div>
      </ng-template>
    </div>
  </div>
</ion-content>
